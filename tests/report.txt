============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-9.0.2, pluggy-1.6.0 -- /home/stephan/Git/graph-trans/venv/bin/python3
cachedir: .pytest_cache
rootdir: /home/stephan/Git/graph-trans
configfile: pytest.ini
testpaths: tests
plugins: cov-7.0.0
collecting ... collected 172 items

tests/test_graph.py::TestNode::test_node_creation PASSED                 [  0%]
tests/test_graph.py::TestNode::test_node_with_attributes PASSED          [  1%]
tests/test_graph.py::TestNode::test_node_equality PASSED                 [  1%]
tests/test_graph.py::TestEdge::test_edge_creation PASSED                 [  2%]
tests/test_graph.py::TestEdge::test_edge_equality PASSED                 [  2%]
tests/test_graph.py::TestGraph::test_empty_graph PASSED                  [  3%]
tests/test_graph.py::TestGraph::test_graph_from_dicts PASSED             [  4%]
tests/test_graph.py::TestGraph::test_add_node PASSED                     [  4%]
tests/test_graph.py::TestGraph::test_add_edge PASSED                     [  5%]
tests/test_graph.py::TestGraph::test_add_edge_invalid_nodes PASSED       [  5%]
tests/test_graph.py::TestGraph::test_get_node PASSED                     [  6%]
tests/test_graph.py::TestGraph::test_get_nodes_by_color PASSED           [  6%]
tests/test_graph.py::TestGraph::test_get_edges_by_color PASSED           [  7%]
tests/test_graph.py::TestGraph::test_remove_node PASSED                  [  8%]
tests/test_graph.py::TestGraph::test_remove_nonexistent_node PASSED      [  8%]
tests/test_graph.py::TestGraph::test_remove_edge PASSED                  [  9%]
tests/test_graph.py::TestGraph::test_remove_nonexistent_edge PASSED      [  9%]
tests/test_graph.py::TestGraph::test_copy PASSED                         [ 10%]
tests/test_graph.py::TestGraph::test_contains PASSED                     [ 11%]
tests/test_graph.py::TestGraph::test_repr PASSED                         [ 11%]
tests/test_graph.py::TestGraphSubgraphInterface::test_to_adjacency_matrix_empty_graph PASSED [ 12%]
tests/test_graph.py::TestGraphSubgraphInterface::test_to_adjacency_matrix_single_node PASSED [ 12%]
tests/test_graph.py::TestGraphSubgraphInterface::test_to_adjacency_matrix_with_edges PASSED [ 13%]
tests/test_graph.py::TestGraphSubgraphInterface::test_to_adjacency_matrix_sorted_nodes PASSED [ 13%]
tests/test_graph.py::TestGraphSubgraphInterface::test_from_adjacency_matrix_empty PASSED [ 14%]
tests/test_graph.py::TestGraphSubgraphInterface::test_from_adjacency_matrix_with_default_ids PASSED [ 15%]
tests/test_graph.py::TestGraphSubgraphInterface::test_from_adjacency_matrix_with_custom_ids PASSED [ 15%]
tests/test_graph.py::TestGraphSubgraphInterface::test_from_adjacency_matrix_invalid_node_ids_length PASSED [ 16%]
tests/test_graph.py::TestGraphSubgraphInterface::test_roundtrip_graph_to_matrix_to_graph PASSED [ 16%]
tests/test_graph.py::TestGraphSubgraphInterface::test_get_node_list_empty PASSED [ 17%]
tests/test_graph.py::TestGraphSubgraphInterface::test_get_node_list_sorted PASSED [ 18%]
tests/test_graph.py::TestGraphSubgraphInterface::test_get_node_list_consistency PASSED [ 18%]
tests/test_graph.py::TestGraphSubgraphInterface::test_adjacency_matrix_preserves_graph_structure PASSED [ 19%]
tests/test_graph.py::TestGraphSubgraphInterface::test_adjacency_matrix_dtype PASSED [ 19%]
tests/test_markov_chain.py::TestMarkovChainCreation::test_empty_markov_chain PASSED [ 20%]
tests/test_markov_chain.py::TestMarkovChainCreation::test_markov_chain_with_states PASSED [ 20%]
tests/test_markov_chain.py::TestMarkovChainCreation::test_markov_chain_with_transition_matrix PASSED [ 21%]
tests/test_markov_chain.py::TestMarkovChainCreation::test_invalid_transition_matrix_shape PASSED [ 22%]
tests/test_markov_chain.py::TestMarkovChainCreation::test_invalid_transition_matrix_not_stochastic PASSED [ 22%]
tests/test_markov_chain.py::TestMarkovChainCreation::test_invalid_transition_matrix_negative PASSED [ 23%]
tests/test_markov_chain.py::TestTransitionMatrix::test_set_and_get_transition_matrix PASSED [ 23%]
tests/test_markov_chain.py::TestTransitionMatrix::test_transition_matrix_creates_edges PASSED [ 24%]
tests/test_markov_chain.py::TestTransitionMatrix::test_edge_probabilities PASSED [ 25%]
tests/test_markov_chain.py::TestTransitionMatrix::test_transition_matrix_reconstruction PASSED [ 25%]
tests/test_markov_chain.py::TestIrreducibility::test_irreducible_chain PASSED [ 26%]
tests/test_markov_chain.py::TestIrreducibility::test_reducible_chain PASSED [ 26%]
tests/test_markov_chain.py::TestIrreducibility::test_empty_chain_is_irreducible PASSED [ 27%]
tests/test_markov_chain.py::TestIrreducibility::test_single_state_chain PASSED [ 27%]
tests/test_markov_chain.py::TestPeriodicity::test_aperiodic_chain_with_self_loop PASSED [ 28%]
tests/test_markov_chain.py::TestPeriodicity::test_periodic_chain PASSED  [ 29%]
tests/test_markov_chain.py::TestPeriodicity::test_period_of_nonexistent_state PASSED [ 29%]
tests/test_markov_chain.py::TestPeriodicity::test_period_default_state PASSED [ 30%]
tests/test_markov_chain.py::TestPeriodicity::test_empty_chain_period PASSED [ 30%]
tests/test_markov_chain.py::TestErgodicity::test_ergodic_chain PASSED    [ 31%]
tests/test_markov_chain.py::TestErgodicity::test_not_ergodic_reducible PASSED [ 31%]
tests/test_markov_chain.py::TestErgodicity::test_not_ergodic_periodic PASSED [ 32%]
tests/test_markov_chain.py::TestStationaryDistribution::test_stationary_distribution_ergodic_chain PASSED [ 33%]
tests/test_markov_chain.py::TestStationaryDistribution::test_stationary_distribution_not_ergodic PASSED [ 33%]
tests/test_markov_chain.py::TestStationaryDistribution::test_stationary_distribution_empty_chain PASSED [ 34%]
tests/test_markov_chain.py::TestStationaryDistribution::test_stationary_distribution_absorbing_state PASSED [ 34%]
tests/test_markov_chain.py::TestTransitionModification::test_add_transition PASSED [ 35%]
tests/test_markov_chain.py::TestTransitionModification::test_remove_transition PASSED [ 36%]
tests/test_markov_chain.py::TestTransitionModification::test_add_transition_invalid_probability PASSED [ 36%]
tests/test_markov_chain.py::TestTransitionModification::test_add_transition_nonexistent_state PASSED [ 37%]
tests/test_markov_chain.py::TestMarkovChainCopy::test_copy_markov_chain PASSED [ 37%]
tests/test_markov_chain.py::TestMarkovChainCopy::test_copy_is_independent PASSED [ 38%]
tests/test_markov_chain.py::TestMarkovChainRepr::test_repr_ergodic PASSED [ 38%]
tests/test_markov_chain.py::TestMarkovChainRepr::test_repr_not_ergodic PASSED [ 39%]
tests/test_markov_chain.py::TestAdjacencyMatrixIntegration::test_to_adjacency_matrix PASSED [ 40%]
tests/test_markov_chain.py::TestAdjacencyMatrixIntegration::test_adjacency_preserves_transitions PASSED [ 40%]
tests/test_markov_stability_analysis.py::TestMarkovState::test_markov_state_creation PASSED [ 41%]
tests/test_markov_stability_analysis.py::TestMarkovState::test_markov_state_post_init PASSED [ 41%]
tests/test_markov_stability_analysis.py::TestMarkovState::test_markov_state_ergodic_computes_stationary PASSED [ 42%]
tests/test_markov_stability_analysis.py::TestMarkovState::test_markov_state_not_ergodic_no_stationary PASSED [ 43%]
tests/test_markov_stability_analysis.py::TestMarkovSequence::test_markov_sequence_creation PASSED [ 43%]
tests/test_markov_stability_analysis.py::TestMarkovSequence::test_markov_sequence_repr PASSED [ 44%]
tests/test_markov_stability_analysis.py::TestMarkovStabilityAnalysis::test_analysis_creation PASSED [ 44%]
tests/test_markov_stability_analysis.py::TestMarkovStabilityAnalysis::test_add_markov_chain PASSED [ 45%]
tests/test_markov_stability_analysis.py::TestMarkovStabilityAnalysis::test_add_multiple_markov_chains PASSED [ 45%]
tests/test_markov_stability_analysis.py::TestMarkovStabilityAnalysis::test_analyze_insufficient_states PASSED [ 46%]
tests/test_markov_stability_analysis.py::TestMarkovStabilityAnalysis::test_analyze_simple_sequence PASSED [ 47%]
tests/test_markov_stability_analysis.py::TestIrreducibilityEvolution::test_irreducibility_evolution_all_irreducible PASSED [ 47%]
tests/test_markov_stability_analysis.py::TestIrreducibilityEvolution::test_irreducibility_evolution_becomes_irreducible PASSED [ 48%]
tests/test_markov_stability_analysis.py::TestErgodicityEvolution::test_ergodicity_evolution_becomes_ergodic PASSED [ 48%]
tests/test_markov_stability_analysis.py::TestStationaryStability::test_stationary_stability_identical_chains PASSED [ 49%]
tests/test_markov_stability_analysis.py::TestStationaryStability::test_stationary_stability_no_ergodic_chains PASSED [ 50%]
tests/test_markov_stability_analysis.py::TestLongestSequences::test_longest_sequence_monotone_growth PASSED [ 50%]
tests/test_markov_stability_analysis.py::TestLongestSequences::test_sequence_monotone_irreducible_flag PASSED [ 51%]
tests/test_markov_stability_analysis.py::TestComparisonMatrix::test_comparison_matrix_dimensions PASSED [ 51%]
tests/test_markov_stability_analysis.py::TestComparisonMatrix::test_comparison_matrix_diagonal_ones PASSED [ 52%]
tests/test_markov_stability_analysis.py::TestComparisonMatrix::test_comparison_matrix_subgraph_relationship PASSED [ 52%]
tests/test_markov_stability_analysis.py::TestPrintAnalysis::test_print_analysis_no_error PASSED [ 53%]
tests/test_markov_stability_analysis.py::TestPrintAnalysis::test_print_analysis_with_sequences PASSED [ 54%]
tests/test_simulate_traffic_light.py::TestCreateInitialState::test_creates_correct_nodes PASSED [ 54%]
tests/test_simulate_traffic_light.py::TestCreateInitialState::test_node_attributes PASSED [ 55%]
tests/test_simulate_traffic_light.py::TestCreateInitialState::test_creates_correct_edges PASSED [ 55%]
tests/test_simulate_traffic_light.py::TestTransformations::test_green_to_yellow_transformation PASSED [ 56%]
tests/test_simulate_traffic_light.py::TestTransformations::test_yellow_to_red_transformation PASSED [ 56%]
tests/test_simulate_traffic_light.py::TestTransformations::test_red_to_red_yellow_transformation PASSED [ 57%]
tests/test_simulate_traffic_light.py::TestTransformations::test_red_yellow_to_green_transformation PASSED [ 58%]
tests/test_simulate_traffic_light.py::TestTransformations::test_transformation_edges PASSED [ 58%]
tests/test_simulate_traffic_light.py::TestPrintGraphState::test_prints_graph_information PASSED [ 59%]
tests/test_simulate_traffic_light.py::TestPrintGraphState::test_prints_node_count PASSED [ 59%]
tests/test_simulate_traffic_light.py::TestPrintGraphState::test_prints_edge_count PASSED [ 60%]
tests/test_simulate_traffic_light.py::TestPrintGraphState::test_prints_node_attributes PASSED [ 61%]
tests/test_simulate_traffic_light.py::TestPrintGraphState::test_prints_color_symbols PASSED [ 61%]
tests/test_simulate_traffic_light.py::TestRunSimulation::test_runs_complete_cycle PASSED [ 62%]
tests/test_simulate_traffic_light.py::TestRunSimulation::test_runs_multiple_cycles PASSED [ 62%]
tests/test_simulate_traffic_light.py::TestRunSimulation::test_respects_delay PASSED [ 63%]
tests/test_simulate_traffic_light.py::TestRunSimulation::test_shows_initial_state PASSED [ 63%]
tests/test_simulate_traffic_light.py::TestRunSimulation::test_shows_transformation_success PASSED [ 64%]
tests/test_simulate_traffic_light.py::TestRunSimulation::test_handles_transformation_error PASSED [ 65%]
tests/test_simulate_traffic_light.py::TestRunSimulation::test_zero_cycles PASSED [ 65%]
tests/test_simulate_traffic_light.py::TestTransformationApplication::test_full_cycle_transformation PASSED [ 66%]
tests/test_simulate_traffic_light.py::TestTransformationApplication::test_transformation_preserves_infrastructure PASSED [ 66%]
tests/test_simulate_traffic_light.py::TestTransformationApplication::test_edge_types_change_correctly PASSED [ 67%]
tests/test_simulate_traffic_light.py::TestEdgeCases::test_empty_graph_print PASSED [ 68%]
tests/test_simulate_traffic_light.py::TestEdgeCases::test_graph_with_no_attributes PASSED [ 68%]
tests/test_simulate_traffic_light.py::TestEdgeCases::test_large_number_of_cycles PASSED [ 69%]
tests/test_simulate_traffic_light.py::TestIntegration::test_complete_simulation_output PASSED [ 69%]
tests/test_simulate_traffic_light.py::TestIntegration::test_transformations_are_reversible PASSED [ 70%]
tests/test_system_stability_analysis.py::TestSystemState::test_system_state_creation PASSED [ 70%]
tests/test_system_stability_analysis.py::TestSystemState::test_post_init_computes_matrix PASSED [ 71%]
tests/test_system_stability_analysis.py::TestSystemState::test_matrix_provided PASSED [ 72%]
tests/test_system_stability_analysis.py::TestSubgraphSequence::test_subgraph_sequence_creation PASSED [ 72%]
tests/test_system_stability_analysis.py::TestSubgraphSequence::test_subgraph_sequence_with_states PASSED [ 73%]
tests/test_system_stability_analysis.py::TestSubgraphSequence::test_repr PASSED [ 73%]
tests/test_system_stability_analysis.py::TestSystemSimulation::test_initialization PASSED [ 74%]
tests/test_system_stability_analysis.py::TestSystemSimulation::test_add_transformation PASSED [ 75%]
tests/test_system_stability_analysis.py::TestSystemSimulation::test_add_multiple_transformations PASSED [ 75%]
tests/test_system_stability_analysis.py::TestSystemSimulationRun::test_run_creates_initial_state PASSED [ 76%]
tests/test_system_stability_analysis.py::TestSystemSimulationRun::test_run_applies_transformations PASSED [ 76%]
tests/test_system_stability_analysis.py::TestSystemSimulationRun::test_run_cycles_through_transformations PASSED [ 77%]
tests/test_system_stability_analysis.py::TestSystemSimulationRun::test_run_respects_delay PASSED [ 77%]
tests/test_system_stability_analysis.py::TestSystemSimulationRun::test_run_handles_transformation_error PASSED [ 78%]
tests/test_system_stability_analysis.py::TestSystemSimulationRun::test_run_stores_graph_copies PASSED [ 79%]
tests/test_system_stability_analysis.py::TestFindLongestSequences::test_single_monotone_sequence PASSED [ 79%]
tests/test_system_stability_analysis.py::TestFindLongestSequences::test_multiple_sequences PASSED [ 80%]
tests/test_system_stability_analysis.py::TestFindLongestSequences::test_no_sequences PASSED [ 80%]
tests/test_system_stability_analysis.py::TestFindStableStates::test_finds_stable_state PASSED [ 81%]
tests/test_system_stability_analysis.py::TestFindStableStates::test_no_stable_states PASSED [ 81%]
tests/test_system_stability_analysis.py::TestFindStableStates::test_multiple_stable_states PASSED [ 82%]
tests/test_system_stability_analysis.py::TestFindCycles::test_finds_simple_cycle PASSED [ 83%]
tests/test_system_stability_analysis.py::TestFindCycles::test_no_cycles PASSED [ 83%]
tests/test_system_stability_analysis.py::TestFindCycles::test_multiple_cycles PASSED [ 84%]
tests/test_system_stability_analysis.py::TestAnalyzeStability::test_analyze_with_sufficient_states PASSED [ 84%]
tests/test_system_stability_analysis.py::TestAnalyzeStability::test_analyze_insufficient_states PASSED [ 85%]
tests/test_system_stability_analysis.py::TestAnalyzeStability::test_analyze_creates_comparison_matrix PASSED [ 86%]
tests/test_system_stability_analysis.py::TestPrintAnalysis::test_prints_all_sections PASSED [ 86%]
tests/test_system_stability_analysis.py::TestPrintAnalysis::test_prints_no_sequences PASSED [ 87%]
tests/test_system_stability_analysis.py::TestPrintAnalysis::test_prints_stable_states PASSED [ 87%]
tests/test_system_stability_analysis.py::TestCreateTrafficLightSystem::test_creates_initial_state PASSED [ 88%]
tests/test_system_stability_analysis.py::TestCreateTrafficLightSystem::test_creates_four_transformations PASSED [ 88%]
tests/test_system_stability_analysis.py::TestCreateTrafficLightSystem::test_transformation_names PASSED [ 89%]
tests/test_system_stability_analysis.py::TestCreateTrafficLightSystem::test_transformations_applicable PASSED [ 90%]
tests/test_system_stability_analysis.py::TestIntegration::test_full_traffic_light_simulation PASSED [ 90%]
tests/test_system_stability_analysis.py::TestIntegration::test_finds_cycle_in_traffic_light PASSED [ 91%]
tests/test_system_stability_analysis.py::TestIntegration::test_print_complete_analysis PASSED [ 91%]
tests/test_transformation.py::TestTransformation::test_simple_transformation_creation PASSED [ 92%]
tests/test_transformation.py::TestTransformation::test_transformation_with_creation PASSED [ 93%]
tests/test_transformation.py::TestTransformation::test_transformation_with_deletion PASSED [ 93%]
tests/test_transformation.py::TestTransformation::test_invalid_transformation_black_nodes_mismatch PASSED [ 94%]
tests/test_transformation.py::TestTransformation::test_invalid_transformation_red_on_right PASSED [ 94%]
tests/test_transformation.py::TestTransformation::test_invalid_transformation_green_on_left PASSED [ 95%]
tests/test_transformation.py::TestTransformation::test_apply_identity_transformation PASSED [ 95%]
tests/test_transformation.py::TestTransformation::test_apply_node_creation PASSED [ 96%]
tests/test_transformation.py::TestTransformation::test_apply_node_deletion PASSED [ 97%]
tests/test_transformation.py::TestTransformation::test_apply_transformation_not_applicable PASSED [ 97%]
tests/test_transformation.py::TestTransformation::test_apply_transformation_helper_function PASSED [ 98%]
tests/test_transformation.py::TestTransformation::test_transformation_preserves_original_graph PASSED [ 98%]
tests/test_transformation.py::TestTransformation::test_complex_transformation PASSED [ 99%]
tests/test_transformation.py::TestTransformation::test_repr PASSED       [100%]

================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.3-final-0 ________________

Name                               Stmts   Miss  Cover   Missing
----------------------------------------------------------------
src/__init__.py                        0      0   100%
src/graph.py                         114      4    96%   19, 23, 40, 87
src/markov_chain.py                  141      1    99%   162
src/markov_stability_analysis.py     195     30    85%   265, 305, 321-351, 355-385
src/simulate_traffic_light.py        130      1    99%   226
src/system_stability_analysis.py     245     16    93%   145, 410-436
src/transformation.py                 56      4    93%   141, 146-147, 152
----------------------------------------------------------------
TOTAL                                881     56    94%
Coverage HTML written to dir doc/htmlcov
============================= 172 passed in 0.75s ==============================
